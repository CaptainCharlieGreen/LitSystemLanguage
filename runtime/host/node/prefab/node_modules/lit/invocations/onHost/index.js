module.exports = function (config) {
  return function (arg) {
    const fn = require(`../../../../${config.functionName}`);
    const work = fn(arg, config.declaration);
    return config.shouldntWrap
      ? Promise.resolve(work)
      : Promise.resolve(work)
        .then(result => Promise.resolve({
          data: result
        }))
        .catch(error => Promise.reject({
          componentRejection: error
        }));
  };
};
