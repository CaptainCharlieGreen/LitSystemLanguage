
<head>
  <link href="https://fonts.googleapis.com/css?family=Work+Sans:600" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Work+Sans:800" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Work+Sans" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/styles.css">
</head>
<body>
  <div id="navbar" class="navigation">
    <div id="logo">Strat</div>
    <a href="/" class="heading">Documentation</a>
    <a href="/Guides/Getting%20Started" class="heading">Install</a>
    <a href="/Features/Roadmap" class="heading">Roadmap</a>
    <a href="https://github.com/stratworld/strat" target="_blank" class="heading">Source</a>
    <a class="stratosphere heading" href="/Stratosphere.html">Stratosphere</a>
    <a href="mailto:interest@strat.world" class="heading">Contact</a>
  </div>
  <div class="row">
    <div id="menu" class="navigation">
    <div class="group">
    <div  class="heading">Features</div>
      <div><a class="nav-page" href="/Features/Roadmap">Roadmap</a></div>
    </div>
    <div class="group">
    <div  class="heading">Guides</div>
      <div><a class="nav-page" href="/Guides/Advanced Sales Service">Advanced Sales Service</a><a class="nav-page" href="/Guides/Bookstore">Bookstore</a><a class="nav-page" href="/Guides/Getting Started">Getting Started</a><a class="nav-page" href="/Guides/Hello World">Hello World</a></div>
    </div>
    <div class="group">
    <div  class="heading">Sources</div>
      <div><a class="nav-page" href="/Sources/Cron">Cron</a><a class="nav-page" href="/Sources/Http">Http</a></div>
    </div>
    <div class="group">
    <div  class="heading">Specification</div>
      <div><a class="nav-page" href="/Specification/Functions">Functions</a><a class="nav-page" href="/Specification/Introduction">Introduction</a><a class="nav-page" href="/Specification/Manifesto">Manifesto</a></div>
    </div>
    <div class="group">
    <div  class="heading">User Guide</div>
      <div><a class="nav-page" href="/User Guide/Artifacts">Artifacts</a><a class="nav-page" href="/User Guide/Role Extensions">Role Extensions</a><a class="nav-page" href="/User Guide/Stratc Commands">Stratc Commands</a></div>
    </div></div>
    <div id="document"><h1 id="roleextensionsaws">Role Extensions (AWS)</h1>
<p>Strat builds roles for every resource it deploys.  This can pose problems if users want to access other resources within their AWS account.  The AWS SVS provides users a way to specify additional roles they wish to inject into the roles created for individual services.</p>
<p>Given the following Strat code which calls an artifact that wishes to scan a DynamoDB table named "Thing":</p>
<pre><code class="st language-st">service ThingService {
  getThings ():any -&gt; "./getThings.js"
}
</code></pre>
<p>To add the permission to scan a DynamoDB table the user would create an svs.json with the following roles property:</p>
<pre><code class="json language-json">{
  "aws": {
    "roles": {
      "ThingService": [
        {
          "action": [ "dynamodb:Scan" ],
          "arn": "arn:aws:dynamodb:*:*:table/Thing"
        }
      ]
    }
  }
}
</code></pre>
<p>The roles property must be a map with the keys bieng the service name, and the value bieng an array of additional permissions, which are maps with two keys action and arn.  Action must be an array of strings, each of which must be <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/api-permissions-reference.html">AWS Actions</a>, and the arn must be the resource ThingService wants to access.  Additional permissions objects are passed directly to the IAM AWS SDK without mutation.</p></div>
  </div>
  <div id="footer" class="row navigation">
    <a class="navigation" href="mailto:interest@strat.world">interest@strat.world</a>
    <a class="navigation" href="mailto:help@strat.world">help@strat.world</a>
  </div>
</body>
